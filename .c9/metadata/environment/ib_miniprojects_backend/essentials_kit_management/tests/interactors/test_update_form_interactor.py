{"filter":false,"title":"test_update_form_interactor.py","tooltip":"/ib_miniprojects_backend/essentials_kit_management/tests/interactors/test_update_form_interactor.py","undoManager":{"mark":13,"position":13,"stack":[[{"start":{"row":73,"column":12},"end":{"row":73,"column":13},"action":"remove","lines":[" "],"id":523},{"start":{"row":73,"column":11},"end":{"row":73,"column":12},"action":"remove","lines":["t"]},{"start":{"row":73,"column":10},"end":{"row":73,"column":11},"action":"remove","lines":["r"]},{"start":{"row":73,"column":9},"end":{"row":73,"column":10},"action":"remove","lines":["e"]},{"start":{"row":73,"column":8},"end":{"row":73,"column":9},"action":"remove","lines":["s"]},{"start":{"row":73,"column":7},"end":{"row":73,"column":8},"action":"remove","lines":["s"]},{"start":{"row":73,"column":6},"end":{"row":73,"column":7},"action":"remove","lines":["a"]},{"start":{"row":73,"column":5},"end":{"row":73,"column":6},"action":"remove","lines":[" "]},{"start":{"row":73,"column":4},"end":{"row":73,"column":5},"action":"remove","lines":["#"]}],[{"start":{"row":74,"column":4},"end":{"row":74,"column":5},"action":"remove","lines":["#"],"id":524}],[{"start":{"row":74,"column":12},"end":{"row":74,"column":13},"action":"remove","lines":[" "],"id":525},{"start":{"row":74,"column":8},"end":{"row":74,"column":12},"action":"remove","lines":["    "]},{"start":{"row":74,"column":4},"end":{"row":74,"column":8},"action":"remove","lines":["    "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":4},"action":"remove","lines":["    "]},{"start":{"row":73,"column":58},"end":{"row":74,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":6,"column":54},"end":{"row":6,"column":55},"action":"insert","lines":[" "],"id":526},{"start":{"row":6,"column":55},"end":{"row":6,"column":56},"action":"insert","lines":["\\"]}],[{"start":{"row":6,"column":56},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":527}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "],"id":528}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":8},"action":"insert","lines":["    "],"id":529}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":8},"action":"remove","lines":["    "],"id":530}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"remove","lines":[" "],"id":531},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"remove","lines":["    "]},{"start":{"row":7,"column":30},"end":{"row":8,"column":0},"action":"remove","lines":["",""]},{"start":{"row":7,"column":29},"end":{"row":7,"column":30},"action":"remove","lines":["\\"]}],[{"start":{"row":8,"column":52},"end":{"row":8,"column":53},"action":"insert","lines":[" "],"id":532},{"start":{"row":8,"column":53},"end":{"row":8,"column":54},"action":"insert","lines":["\\"]}],[{"start":{"row":8,"column":54},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":533}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "],"id":534}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"remove","lines":[" "],"id":535},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"remove","lines":["    "]},{"start":{"row":9,"column":31},"end":{"row":10,"column":0},"action":"remove","lines":["",""]},{"start":{"row":9,"column":30},"end":{"row":9,"column":31},"action":"remove","lines":["\\"]}],[{"start":{"row":0,"column":0},"end":{"row":77,"column":75},"action":"remove","lines":["import pytest","","from unittest.mock import create_autospec","","from essentials_kit_management.interactors.storages.form_storage_interface \\","     import FormStorageInterface","from essentials_kit_management.interactors.presenters. \\","    form_presenter_interface import FormPresenterInterface","from essentials_kit_management.interactors.storages. \\","    section_storage_interface import SectionStorageInterface","from essentials_kit_management.interactors.presenters.section_presenter_interface \\","     import SectionPresenterInterface","","from essentials_kit_management.interactors.storages.item_storage_interface \\","     import ItemStorageInterface","from essentials_kit_management.interactors.presenters.item_presenter_interface \\","     import ItemPresenterInterface","from essentials_kit_management.interactors.storages.brand_storage_interface \\","     import BrandStorageInterface","from essentials_kit_management.interactors.presenters.brand_presenter_interface \\","     import BrandPresenterInterface","","","from essentials_kit_management.interactors.storages.order_storage_interface \\","     import OrderStorageInterface","from essentials_kit_management.interactors.presenters.order_presenter_interface \\","     import OrderPresenterInterface","","from essentials_kit_management.interactors.update_form_interactor import \\","    UpdateFormInteractor","","","","def test_update_form_interactor_with_valid_details_update_orders(","        update_form_order_dict,","        expected_update_form_dto_list):","","    # Arrange","    user_id = 1","    form_id = 1","    new_order_list = expected_update_form_dto_list[0]","    update_order_list = expected_update_form_dto_list[1]","    remove_order_list = expected_update_form_dto_list[2]","","    order_storage = create_autospec(OrderStorageInterface)","    order_presenter = create_autospec(OrderPresenterInterface)","    form_storage = create_autospec(FormStorageInterface)","    form_presenter = create_autospec(FormPresenterInterface)","    section_storage = create_autospec(SectionStorageInterface)","    section_presenter = create_autospec(SectionPresenterInterface)","    item_storage = create_autospec(ItemStorageInterface)","    item_presenter = create_autospec(ItemPresenterInterface)","    brand_storage = create_autospec(BrandStorageInterface)","    brand_presenter = create_autospec(BrandPresenterInterface)","","    interactor = UpdateFormInteractor(","        order_storage=order_storage,","        order_presenter=order_presenter,","        form_storage=form_storage,","        form_presenter=form_presenter,","        section_storage=section_storage,","        section_presenter=section_presenter,","        item_storage=item_storage,","        item_presenter=item_presenter,","        brand_storage=brand_storage,","        brand_presenter=brand_presenter)","","","    # Act","    interactor.update_form(user_id=user_id,","                           orders_details=update_form_order_dict)","","    # Assert","    form_storage.is_valid_form_id.assert_called_once_with(form_id=form_id)","    assert order_storage.create_new_orders(user_id=user_id,","                                           new_order_list=new_order_list)","    assert order_storage.update_orders(update_order_list=update_order_list)","    assert order_storage.remove_orders(remove_order_list=remove_order_list)"],"id":536},{"start":{"row":0,"column":0},"end":{"row":76,"column":0},"action":"insert","lines":["import pytest","","from unittest.mock import create_autospec","","from essentials_kit_management.interactors.storages.form_storage_interface \\","     import FormStorageInterface","from essentials_kit_management.interactors.presenters. \\","    form_presenter_interface import FormPresenterInterface","from essentials_kit_management.interactors.storages. \\","    section_storage_interface import SectionStorageInterface","from essentials_kit_management.interactors.presenters. \\","    section_presenter_interface import SectionPresenterInterface","","from essentials_kit_management.interactors.storages.item_storage_interface \\","     import ItemStorageInterface","from essentials_kit_management.interactors.presenters. \\","    item_presenter_interface import ItemPresenterInterface","from essentials_kit_management.interactors.storages.brand_storage_interface \\","     import BrandStorageInterface","from essentials_kit_management.interactors.presenters. \\","    brand_presenter_interface import BrandPresenterInterface","","","from essentials_kit_management.interactors.storages.order_storage_interface \\","     import OrderStorageInterface","from essentials_kit_management.interactors.presenters. \\","    order_presenter_interface import OrderPresenterInterface","","from essentials_kit_management.interactors.update_form_interactor import \\","    UpdateFormInteractor","","","def test_update_form_interactor_with_valid_details_update_orders(","        update_form_order_dict,","        expected_update_form_dto_list):","","    # Arrange","    user_id = 1","    form_id = 1","    new_order_list = expected_update_form_dto_list[0]","    update_order_list = expected_update_form_dto_list[1]","    remove_order_list = expected_update_form_dto_list[2]","","    order_storage = create_autospec(OrderStorageInterface)","    order_presenter = create_autospec(OrderPresenterInterface)","    form_storage = create_autospec(FormStorageInterface)","    form_presenter = create_autospec(FormPresenterInterface)","    section_storage = create_autospec(SectionStorageInterface)","    section_presenter = create_autospec(SectionPresenterInterface)","    item_storage = create_autospec(ItemStorageInterface)","    item_presenter = create_autospec(ItemPresenterInterface)","    brand_storage = create_autospec(BrandStorageInterface)","    brand_presenter = create_autospec(BrandPresenterInterface)","","    interactor = UpdateFormInteractor(","        order_storage=order_storage,","        order_presenter=order_presenter,","        form_storage=form_storage,","        form_presenter=form_presenter,","        section_storage=section_storage,","        section_presenter=section_presenter,","        item_storage=item_storage,","        item_presenter=item_presenter,","        brand_storage=brand_storage,","        brand_presenter=brand_presenter)","","    # Act","    interactor.update_form(user_id=user_id,","                           orders_details=update_form_order_dict)","","    # Assert","    form_storage.is_valid_form_id.assert_called_once_with(form_id=form_id)","    assert order_storage.create_new_orders(user_id=user_id,","                                           new_order_list=new_order_list)","    assert order_storage.update_orders(update_order_list=update_order_list)","    assert order_storage.remove_orders(remove_order_list=remove_order_list)",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":0},"end":{"row":1,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1591456701000,"hash":"2431477bfc42c1eaaa20f761d1d2bac4e98f7a8b"}